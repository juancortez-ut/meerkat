$(document).ready(function(){$(".submit-request").click(function(e){function t(e){return console.log("Request complete"),e&&location.reload(),$(a).html(),$(a).text("Submit"),!1}var o=e&&e.target&&e.target.form&&e.target.form.children||null,n=$(this).attr("data-request"),a=this,l=[];if(o&&o.length>1){var c=$.map(o,function(e,t){if($(e).is(".form-check"))return[e]});c.filter(function(e){return!!$(e).find(".form-check-input").is(":checked")&&(l.push($(e).find(".form-check-input").val()),!0)})}var r=0;return l.length>0&&"delete"==n&&($(this).html('<i class="fa fa-cog fa-spin fa-3x fa-fw"></i>'),l.forEach(function(e){$.ajax({method:"DELETE",url:"/data/"+e}).done(function(t){"OK"===t&&console.log(e+" was successfully cleared!")}).fail(function(t){console.error(e+" was unsuccessfully cleared."),console.error(t)}).always(function(){r++,r==l.length&&t(!0)})})),r=0,l.length>0&&"update"==n&&($(this).html('<i class="fa fa-cog fa-spin fa-3x fa-fw"></i>'),l.forEach(function(e){if("newsletterdata"==e){var o=window.location.protocol+"//"+window.location.host+"/";return window.open(o+"update/newsletterload"),r++,console.info("Don't forget to move the newsletter* images to public/assets/newsletter"),void(r==l.length&&t(!1))}$.ajax({method:"PUT",url:"/data/"+e}).done(function(t){"OK"===t&&console.log(e+" was successfully updated!")}).fail(function(t){console.error(e+" was unsuccessfully updated."),console.error(t)}).always(function(){r++,r==l.length&&t(!1)})})),!1})});