$(document).ready(function(){function e(e,t,a,n){return""==n&&(n="12:00 PM"),e=m.indexOf(e)+1,1>e/10&&(e=e.pad(2)),e+"/"+t+"/"+a+" "+n}function t(e){var t=[],n=e.substring(0,e.indexOf("-"));e=e.substring(e.indexOf("-")+1,e.length);var r=e.substring(0,e.indexOf("-"));if(r=a(r),e=e.substring(e.indexOf("-")+1,e.length),day=e.substring(0,2),e.length>2){var l=e.substring(3,e.length),s=l.substring(0,5),i=parseInt(s);if(i>=12){if(i>12){var c=s.substring(2,s.length),o=parseInt(s.substring(0,2))-12;1>o/10&&(o=o.pad(2)),s=o+c}i="PM"}else i="AM";t.startTime=s+" "+i}else t.startTime="";return t.month=r,t.day=day,t.year=n,t}function a(e){switch(e=parseInt(e.replace(/^0+/,""))){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return"Invalid Month"}}function n(){$("#title").empty(),$("#description").empty(),i>s&&($($("ol li")[s]).addClass("active"),$("#title").append(r.newsletter[s].title),$("#description").append("<span class = 'bold'> Description: </span>"+r.newsletter[s].description),$("#image-newsletter").attr("src","../assets/newsletter/newsletter"+s),$("#image-newsletter").parent()[0].setAttribute("href",r.newsletter[s].image_link),r.newsletter[s].image_link?$("#image-newsletter").parent()[0].setAttribute("onclick","return true;"):$("#image-newsletter").parent()[0].setAttribute("onclick","return false;"))}var r,l,s=0,i=0,c=0,o=0,d=setInterval(function(e){$("#next-newsletter").click()},5e3);$.ajax({method:"GET",url:"/newsletterdata"}).done(function(e){r=e,i=e.newsletter.length;for(var t=1;i>t;t++){var a=document.createElement("li");$(".carousel-indicators").append(a)}$($("ol li")[s]).addClass("active"),$("#title").append(e.newsletter[s].title),$("#description").append("<span class = 'bold'> Description: </span>"+e.newsletter[s].description),$("#image-newsletter").attr("src","../assets/newsletter/newsletter0");var n=document.createElement("a");n.href=e.newsletter[s].image_link,$("#image-newsletter").wrap(n),e.newsletter[s].image_link?$("#image-newsletter").parent()[0].setAttribute("onclick","return true;"):$("#image-newsletter").parent()[0].setAttribute("onclick","return false;")}).fail(function(e){console.error("GET method for /newsletterdata failed.")}),$.ajax({method:"GET",url:"/calendardata"}).done(function(a){l=a,c=l.calendar.length;var n=!1,r=new Date;for(r.getMonth(),r.getDate();n===!1;){calendarHtml=l.calendar[o],$("#event-title").html("<b>Event: </b>"+calendarHtml.event),$("span.title").text(calendarHtml.event);var s=t(calendarHtml.time);if(s.startTime){$("#event-date").html("<b>Date: </b>"+s.month+" "+s.day+", "+s.year+" at "+s.startTime);var i=e(s.month,s.day,s.year,s.startTime);$("span.start").text(i),$("span.end").text(i)}else{$("#event-date").html("<b>Date: </b>"+s.month+" "+s.day+", "+s.year);var i=e(s.month,s.day,s.year,"");$("span.start").text(i),$("span.end").text(i)}s.day<r.getDate()?(l.calendar.splice(0,1),c--):(n=!0,calendarHtml.location?($("#event-location").html("<b>Location: </b>"+calendarHtml.location),$("span.location").text(calendarHtml.location)):$("span.location").text(""),$("#event-link").attr("href",calendarHtml.link),$("span.description").text(calendarHtml.link))}}),$(".cal-button").on("click",function(a){$(a.currentTarget).hasClass("fa-angle-double-right")?o=(o+1)%c:(o--,0>o&&(o=c-1)),$(".fa-calendar").toggleClass("dark-shpe-blue mid-blue"),calendarHtml=l.calendar[o],$("#event-title").html("<b>Event: </b>"+calendarHtml.event),$("span.title").text(calendarHtml.event);var n=t(calendarHtml.time);if(n.startTime){$("#event-date").html("<b>Date: </b>"+n.month+" "+n.day+", "+n.year+" at "+n.startTime);var r=e(n.month,n.day,n.year,n.startTime);$("span.start").text(r),$("span.end").text(r)}else{$("#event-date").html("<b>Date: </b>"+n.month+" "+n.day+", "+n.year);var r=e(n.month,n.day,n.year,n.startTime,"");$("span.start").text(r),$("span.end").text(r)}calendarHtml.location?($("#event-location").html("<b>Location: </b>"+calendarHtml.location),$("span.location").text(calendarHtml.location)):($("#event-location").html(""),$("span.location").text("")),$("#event-link").attr("href",calendarHtml.link),$("span.description").text(calendarHtml.link)});var m=["January","February","March","April","May","June","July","August","September","October","November","December"];$("#prev-newsletter").click(function(e){e.originalEvent&&clearInterval(d),$($("ol li")[s]).removeClass("active"),0===s?s=i-1:s--,n()}),$("#next-newsletter").click(function(e){e.originalEvent&&clearInterval(d),$($("ol li")[s]).removeClass("active"),s=(s+1)%i,n()}),Number.prototype.pad=function(e){return new Array(e).join("0").slice(-1*(e||2))+this}});