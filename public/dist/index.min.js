$(document).ready(function(){function e(e){var n=[],a=e.substring(0,e.indexOf("-"));e=e.substring(e.indexOf("-")+1,e.length);var r=e.substring(0,e.indexOf("-"));if(r=t(r),e=e.substring(e.indexOf("-")+1,e.length),day=e.substring(0,2),e.length>2){var l=e.substring(3,e.length),i=l.substring(0,5),s=parseInt(i.replace(/^0+/,""));if(s>=12){if(s>12){var c=i.substring(2,i.length),o=parseInt(i.substring(0,2))-12;i=o+c}s="P.M."}else s="A.M.";i=i.replace(/^0+/,""),n.startTime=i+" "+s}else n.startTime="";return n.month=r,n.day=day,n.year=a,n}function t(e){switch(e=parseInt(e.replace(/^0+/,""))){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"September";case 10:return"October";case 11:return"November";case 12:return"December";default:return"Invalid Month"}}function n(){$("#title").empty(),$("#description").empty(),i>l&&($($("ol li")[l]).addClass("active"),$("#title").append(a.newsletter[l].title),$("#description").append("<span class = 'bold'> Description: </span>"+a.newsletter[l].description),$("#image-newsletter").attr("src","../assets/newsletter/newsletter"+l),$("#image-newsletter").parent()[0].setAttribute("href",a.newsletter[l].image_link),a.newsletter[l].image_link?$("#image-newsletter").parent()[0].setAttribute("onclick","return true;"):$("#image-newsletter").parent()[0].setAttribute("onclick","return false;"))}var a,r,l=0,i=0,s=0,c=0,o=setInterval(function(e){$("#next-newsletter").click()},5e3);$.ajax({method:"GET",url:"/newsletterdata"}).done(function(e){a=e,i=e.newsletter.length;for(var t=1;i>t;t++){var n=document.createElement("li");$(".carousel-indicators").append(n)}$($("ol li")[l]).addClass("active"),$("#title").append(e.newsletter[l].title),$("#description").append("<span class = 'bold'> Description: </span>"+e.newsletter[l].description),$("#image-newsletter").attr("src","../assets/newsletter/newsletter0");var r=document.createElement("a");r.href=e.newsletter[l].image_link,$("#image-newsletter").wrap(r),e.newsletter[l].image_link?$("#image-newsletter").parent()[0].setAttribute("onclick","return true;"):$("#image-newsletter").parent()[0].setAttribute("onclick","return false;")}).fail(function(e){console.error("GET method for /newsletterdata failed.")}),$.ajax({method:"GET",url:"/calendardata"}).done(function(t){r=t,s=r.calendar.length;var n=!1,a=new Date;for(a.getMonth(),a.getDate();n===!1;){calendarHtml=r.calendar[c],$("#event-title").html("<b>Event: </b>"+calendarHtml.event);var l=e(calendarHtml.time);l.startTime?$("#event-date").html("<b>Date: </b>"+l.month+" "+l.day+", "+l.year+" at "+l.startTime):$("#event-date").html("<b>Date: </b>"+l.month+" "+l.day+", "+l.year),l.day<a.getDate()?(r.calendar.splice(0,1),s--):(n=!0,calendarHtml.location&&$("#event-location").html("<b>Location: </b>"+calendarHtml.location),$("#event-link").attr("href",calendarHtml.link))}}),$("#event-thumbnail").on("click",function(t){if("A"!=t.toElement.tagName){c=(c+1)%s,$(".fa-calendar").toggleClass("dark-shpe-blue mid-blue"),calendarHtml=r.calendar[c],$("#event-title").html("<b>Event: </b>"+calendarHtml.event);var n=e(calendarHtml.time);n.startTime?$("#event-date").html("<b>Date: </b>"+n.month+" "+n.day+", "+n.year+" at "+n.startTime):$("#event-date").html("<b>Date: </b>"+n.month+" "+n.day+", "+n.year),calendarHtml.location?$("#event-location").html("<b>Location: </b>"+calendarHtml.location):$("#event-location").html(""),$("#event-link").attr("href",calendarHtml.link)}}),$("#prev-newsletter").click(function(e){e.originalEvent&&clearInterval(o),$($("ol li")[l]).removeClass("active"),0===l?l=i-1:l--,n()}),$("#next-newsletter").click(function(e){e.originalEvent&&clearInterval(o),$($("ol li")[l]).removeClass("active"),l=(l+1)%i,n()})});